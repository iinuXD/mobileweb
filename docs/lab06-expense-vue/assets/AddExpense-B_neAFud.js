import{d as x,o as y,c as w,w as t,u as l,I as _,b as a,e as B,h as A,G as C,f as U,g as r,l as k,C as d,H as b,D as T,J as E,K as c,L as N,i as D,z as M,A as p,M as H,N as L,B as S}from"./index-DNzx3WyU.js";import{b as I,s as z,e as G,c as J,d as K}from"./firebase-CYBFCgeC.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=x({__name:"AddExpense",setup(R){const V=L(),m=p(""),u=p(null),f=p("expense"),i=p(""),v=p("");y(async()=>{try{I.currentUser||await z(I)}catch(o){console.error("Anonymous auth failed:",o)}});const g=async()=>{if(!m.value.trim()){s("กรุณากรอกชื่อรายการ");return}if(!u.value||u.value<=0){s("กรุณากรอกจำนวนเงิน");return}if(!i.value.trim()){s("กรุณากรอกหมวดหมู่");return}try{await G(J(K,"expenses"),{title:m.value,amount:Number(u.value),type:f.value,category:i.value,note:v.value,createdAt:new Date}),s("บันทึกข้อมูลสำเร็จ"),V.push("/tabs/tab1")}catch(o){console.error("Error saving expense:",o);const e=(o==null?void 0:o.message)||"เกิดข้อผิดพลาดในการบันทึกข้อมูล";s(e)}},s=async o=>{await(await H.create({message:o,duration:2e3,position:"bottom"})).present()};return(o,e)=>(S(),w(l(_),null,{default:t(()=>[a(l(k),null,{default:t(()=>[a(l(B),null,{default:t(()=>[a(l(A),{slot:"start"},{default:t(()=>[a(l(C),{"default-href":"/tabs/tab1"})]),_:1}),a(l(U),null,{default:t(()=>[...e[5]||(e[5]=[r("เพิ่มรายการรายรับ–รายจ่าย",-1)])]),_:1})]),_:1})]),_:1}),a(l(M),{class:"ion-padding"},{default:t(()=>[a(l(d),null,{default:t(()=>[a(l(b),{label:"ชื่อรายการ","label-placement":"floating",placeholder:"กรอกชื่อรายการ",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=n=>m.value=n)},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:t(()=>[a(l(b),{label:"จำนวนเงิน","label-placement":"floating",type:"number",placeholder:"0",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=n=>u.value=n)},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:t(()=>[a(l(T),null,{default:t(()=>[...e[6]||(e[6]=[r("ประเภท",-1)])]),_:1}),a(l(E),{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=n=>f.value=n),interface:"popover"},{default:t(()=>[a(l(c),{value:"income"},{default:t(()=>[...e[7]||(e[7]=[r("รายรับ",-1)])]),_:1}),a(l(c),{value:"expense"},{default:t(()=>[...e[8]||(e[8]=[r("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(l(d),null,{default:t(()=>[a(l(b),{label:"หมวดหมู่","label-placement":"floating",placeholder:"เช่น อาหาร, ค่าน้ำ, เงินเดือน",modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=n=>i.value=n)},null,8,["modelValue"])]),_:1}),a(l(d),null,{default:t(()=>[a(l(N),{label:"หมายเหตุ","label-placement":"floating",placeholder:"เพิ่มเติม (ไม่บังคับ)",rows:4,modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=n=>v.value=n)},null,8,["modelValue"])]),_:1}),a(l(D),{expand:"block",onClick:g,class:"ion-margin-top"},{default:t(()=>[...e[9]||(e[9]=[r(" บันทึกข้อมูล ",-1)])]),_:1})]),_:1})]),_:1}))}}),Q=O(P,[["__scopeId","data-v-0376ea4e"]]);export{Q as default};
