import{d as D,o as h,a as F,c as p,w as e,u as a,I as H,b as s,e as I,f as g,g as _,h as q,i as w,j as b,k as x,l as T,m as E,n as N,p as z,q as A,r as o,t as u,s as y,v as L,F as P,x as V,y as S,z as j,A as v,B as d,C as M,D as U,E as C}from"./index-DNzx3WyU.js";import{q as $,o as G,c as J,a as K,d as O}from"./firebase-CYBFCgeC.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"summary-grid"},W={class:"summary-item income"},X={class:"amount"},Y={class:"summary-item expense"},Z={class:"amount"},tt={class:"summary-item balance"},at={class:"amount"},et={key:0,class:"ion-padding"},st={class:"date"},ot={key:1,class:"empty-state"},lt=D({__name:"Tab1Page",setup(nt){const r=v([]),i=v(0),m=v(0);let f=null;h(()=>{const n=$(J(O,"expenses"),G("createdAt","desc"));f=K(n,t=>{r.value=t.docs.map(l=>({id:l.id,...l.data()})),k()})}),F(()=>{f&&f()});const k=()=>{i.value=0,m.value=0,r.value.forEach(n=>{n.type==="income"?i.value+=n.amount:m.value+=n.amount})},c=n=>new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB",minimumFractionDigits:0}).format(n),B=n=>{if(!n)return"";const t=n.toDate();return new Intl.DateTimeFormat("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)};return(n,t)=>(d(),p(a(H),null,{default:e(()=>[s(a(T),null,{default:e(()=>[s(a(I),null,{default:e(()=>[s(a(g),null,{default:e(()=>[...t[0]||(t[0]=[_("รายการรายรับ–รายจ่าย",-1)])]),_:1}),s(a(q),{slot:"end"},{default:e(()=>[s(a(w),{"router-link":"/add-expense"},{default:e(()=>[s(a(b),{slot:"icon-only",icon:a(x)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),s(a(j),{fullscreen:!0},{default:e(()=>[s(a(T),{collapse:"condense"},{default:e(()=>[s(a(I),null,{default:e(()=>[s(a(g),{size:"large"},{default:e(()=>[...t[1]||(t[1]=[_("รายการรายรับ–รายจ่าย",-1)])]),_:1})]),_:1})]),_:1}),s(a(E),null,{default:e(()=>[s(a(N),null,{default:e(()=>[s(a(z),null,{default:e(()=>[...t[2]||(t[2]=[_("สรุป",-1)])]),_:1})]),_:1}),s(a(A),null,{default:e(()=>[o("div",R,[o("div",W,[t[3]||(t[3]=o("div",{class:"label"},"รายรับ",-1)),o("div",X,u(c(i.value)),1)]),o("div",Y,[t[4]||(t[4]=o("div",{class:"label"},"รายจ่าย",-1)),o("div",Z,u(c(m.value)),1)]),o("div",tt,[t[5]||(t[5]=o("div",{class:"label"},"คงเหลือ",-1)),o("div",at,u(c(i.value-m.value)),1)])])]),_:1})]),_:1}),r.value.length>0?(d(),y("div",et,[t[6]||(t[6]=o("h2",null,"รายการทั้งหมด",-1)),s(a(L),null,{default:e(()=>[(d(!0),y(P,null,V(r.value,l=>(d(),p(a(M),{key:l.id,class:"expense-item",button:"","router-link":"/edit-expense/".concat(l.id)},{default:e(()=>[s(a(U),null,{default:e(()=>[o("h2",null,u(l.title),1),o("p",{class:C(["category-badge",l.type])},u(l.type==="income"?"รายรับ":"รายจ่าย")+" • "+u(l.category),3),o("p",st,u(B(l.createdAt)),1)]),_:2},1024),o("div",{slot:"end",class:C(["amount-display",l.type])},u(l.type==="income"?"+":"-")+u(c(l.amount)),3)]),_:2},1032,["router-link"]))),128))]),_:1})])):(d(),y("div",ot,[s(a(b),{icon:a(S),class:"empty-icon"},null,8,["icon"]),t[7]||(t[7]=o("p",null,"ไม่มีรายการ",-1)),t[8]||(t[8]=o("p",{class:"text-muted"},"คลิกปุ่ม + เพื่อเพิ่มรายการใหม่",-1))]))]),_:1})]),_:1}))}}),it=Q(lt,[["__scopeId","data-v-817a4871"]]);export{it as default};
